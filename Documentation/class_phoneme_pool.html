<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PhonemePool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_phoneme_pool.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_phoneme_pool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PhonemePool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is a wrapper around a vector of phonemes. It is only here to store a pool of existing phonemes that are read in from a phoneme file in the the constructor.  
 <a href="class_phoneme_pool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_phoneme_pool_8h_source.html">PhonemePool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aabd17692c1de1c3ba28e3a5265e54a40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#aabd17692c1de1c3ba28e3a5265e54a40">PhonemePool</a> (const char *phoneme_file)</td></tr>
<tr class="memdesc:aabd17692c1de1c3ba28e3a5265e54a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="class_phoneme_pool.html" title="This class is a wrapper around a vector of phonemes. It is only here to store a pool of existing phon...">PhonemePool</a>. This will create a pool of phonemes using an existing phoneme config file for the generator.  <a href="#aabd17692c1de1c3ba28e3a5265e54a40">More...</a><br /></td></tr>
<tr class="separator:aabd17692c1de1c3ba28e3a5265e54a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac197347d5e6f4a14896c441e94345faf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_phoneme.html">Phoneme</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#ac197347d5e6f4a14896c441e94345faf">get_phoneme</a> () const</td></tr>
<tr class="memdesc:ac197347d5e6f4a14896c441e94345faf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a randome <a class="el" href="class_phoneme.html" title="A Phoneme is a fundamental sound within a language. Combinations of phonemes are responsible for crea...">Phoneme</a> from the pool.  <a href="#ac197347d5e6f4a14896c441e94345faf">More...</a><br /></td></tr>
<tr class="separator:ac197347d5e6f4a14896c441e94345faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc61de7d5c264f51ab24a4c327a2a0a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#afc61de7d5c264f51ab24a4c327a2a0a6">read_success</a> () const</td></tr>
<tr class="memdesc:afc61de7d5c264f51ab24a4c327a2a0a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the phoneme file was successfully read.  <a href="#afc61de7d5c264f51ab24a4c327a2a0a6">More...</a><br /></td></tr>
<tr class="separator:afc61de7d5c264f51ab24a4c327a2a0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aeae0af403555f11fc55a6c5f087c4319"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#aeae0af403555f11fc55a6c5f087c4319">extract_phoneme_data</a> (const std::vector&lt; std::string &gt; &amp;data, std::vector&lt; size_t &gt; &amp;rule_starts)</td></tr>
<tr class="memdesc:aeae0af403555f11fc55a6c5f087c4319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts all the phoneme data from text into phoneme objects. This function does not handle the parsing of the rules.  <a href="#aeae0af403555f11fc55a6c5f087c4319">More...</a><br /></td></tr>
<tr class="separator:aeae0af403555f11fc55a6c5f087c4319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706ef9e47c4f9a6e5a0474ce57307465"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#a706ef9e47c4f9a6e5a0474ce57307465">extract_rule_data</a> (const std::vector&lt; std::string &gt; &amp;data, const std::vector&lt; size_t &gt; &amp;rule_starts)</td></tr>
<tr class="memdesc:a706ef9e47c4f9a6e5a0474ce57307465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts to rule data for phonemes from the raw phoneme data.  <a href="#a706ef9e47c4f9a6e5a0474ce57307465">More...</a><br /></td></tr>
<tr class="separator:a706ef9e47c4f9a6e5a0474ce57307465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33e0d850d01c5477b5a143643b26a74b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_phoneme.html">Phoneme</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#a33e0d850d01c5477b5a143643b26a74b">find_phoneme</a> (const std::string &amp;phoneme_string)</td></tr>
<tr class="memdesc:a33e0d850d01c5477b5a143643b26a74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will find a phoneme that exists within the pool using a string that contains the phoneme name.  <a href="#a33e0d850d01c5477b5a143643b26a74b">More...</a><br /></td></tr>
<tr class="separator:a33e0d850d01c5477b5a143643b26a74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0627410543979c11336250d610be7d12"><td class="memItemLeft" align="right" valign="top"><a id="a0627410543979c11336250d610be7d12"></a>
std::vector&lt; <a class="el" href="class_phoneme.html">Phoneme</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a></td></tr>
<tr class="memdesc:a0627410543979c11336250d610be7d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">The vector of phonemes that the <a class="el" href="class_phoneme_pool.html" title="This class is a wrapper around a vector of phonemes. It is only here to store a pool of existing phon...">PhonemePool</a> holds. <br /></td></tr>
<tr class="separator:a0627410543979c11336250d610be7d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb9fe1629315941a782862e058c3efa"><td class="memItemLeft" align="right" valign="top"><a id="aceb9fe1629315941a782862e058c3efa"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_phoneme_pool.html#aceb9fe1629315941a782862e058c3efa">m_read_success</a></td></tr>
<tr class="memdesc:aceb9fe1629315941a782862e058c3efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies whether the phoneme file was successfully read or not. <br /></td></tr>
<tr class="separator:aceb9fe1629315941a782862e058c3efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is a wrapper around a vector of phonemes. It is only here to store a pool of existing phonemes that are read in from a phoneme file in the the constructor. </p>

<p class="definition">Definition at line <a class="el" href="_phoneme_pool_8h_source.html#l00031">31</a> of file <a class="el" href="_phoneme_pool_8h_source.html">PhonemePool.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aabd17692c1de1c3ba28e3a5265e54a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabd17692c1de1c3ba28e3a5265e54a40">&#9670;&nbsp;</a></span>PhonemePool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PhonemePool::PhonemePool </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>phoneme_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the <a class="el" href="class_phoneme_pool.html" title="This class is a wrapper around a vector of phonemes. It is only here to store a pool of existing phon...">PhonemePool</a>. This will create a pool of phonemes using an existing phoneme config file for the generator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phoneme_file</td><td>The path to the file which all the phoneme data will be read from. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_phoneme_pool_8cpp_source.html#l00033">33</a> of file <a class="el" href="_phoneme_pool_8cpp_source.html">PhonemePool.cpp</a>.</p>

<p class="reference">References <a class="el" href="_phoneme_pool_8cpp_source.html#l00094">extract_phoneme_data()</a>, <a class="el" href="_phoneme_pool_8cpp_source.html#l00171">extract_rule_data()</a>, <a class="el" href="_phoneme_pool_8h_source.html#l00046">m_read_success</a>, and <a class="el" href="utility_8cpp_source.html#l00036">read_file()</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                                  : <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>(),</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="class_phoneme_pool.html#aceb9fe1629315941a782862e058c3efa">m_read_success</a>(<span class="keyword">false</span>)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  std::vector&lt;std::string&gt; phoneme_data;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="utility_8h.html#a17ae25ee9a359fd930b2bff8fe27cfa4">read_file</a>(phoneme_data, phoneme_file);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  std::vector&lt;size_t&gt; rule_starts;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">try</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  {</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="class_phoneme_pool.html#aeae0af403555f11fc55a6c5f087c4319">extract_phoneme_data</a>(phoneme_data, rule_starts);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="class_phoneme_pool.html#a706ef9e47c4f9a6e5a0474ce57307465">extract_rule_data</a>(phoneme_data, rule_starts);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="class_phoneme_pool.html#aceb9fe1629315941a782862e058c3efa">m_read_success</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::string &amp; error)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Error | &quot;</span> &lt;&lt; error &lt;&lt; std::endl;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div><div class="ttc" id="class_phoneme_pool_html_aceb9fe1629315941a782862e058c3efa"><div class="ttname"><a href="class_phoneme_pool.html#aceb9fe1629315941a782862e058c3efa">PhonemePool::m_read_success</a></div><div class="ttdeci">bool m_read_success</div><div class="ttdoc">Identifies whether the phoneme file was successfully read or not. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8h_source.html#l00046">PhonemePool.h:46</a></div></div>
<div class="ttc" id="class_phoneme_pool_html_a0627410543979c11336250d610be7d12"><div class="ttname"><a href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">PhonemePool::m_phonemes</a></div><div class="ttdeci">std::vector&lt; Phoneme &gt; m_phonemes</div><div class="ttdoc">The vector of phonemes that the PhonemePool holds. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8h_source.html#l00044">PhonemePool.h:44</a></div></div>
<div class="ttc" id="utility_8h_html_a17ae25ee9a359fd930b2bff8fe27cfa4"><div class="ttname"><a href="utility_8h.html#a17ae25ee9a359fd930b2bff8fe27cfa4">read_file</a></div><div class="ttdeci">void read_file(std::vector&lt; std::string &gt; &amp;vector, const char *file_name)</div><div class="ttdoc">Reads in each line from a file into seperate elemnts of a provided vector. </div><div class="ttdef"><b>Definition:</b> <a href="utility_8cpp_source.html#l00036">utility.cpp:36</a></div></div>
<div class="ttc" id="class_phoneme_pool_html_aeae0af403555f11fc55a6c5f087c4319"><div class="ttname"><a href="class_phoneme_pool.html#aeae0af403555f11fc55a6c5f087c4319">PhonemePool::extract_phoneme_data</a></div><div class="ttdeci">void extract_phoneme_data(const std::vector&lt; std::string &gt; &amp;data, std::vector&lt; size_t &gt; &amp;rule_starts)</div><div class="ttdoc">Extracts all the phoneme data from text into phoneme objects. This function does not handle the parsi...</div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8cpp_source.html#l00094">PhonemePool.cpp:94</a></div></div>
<div class="ttc" id="class_phoneme_pool_html_a706ef9e47c4f9a6e5a0474ce57307465"><div class="ttname"><a href="class_phoneme_pool.html#a706ef9e47c4f9a6e5a0474ce57307465">PhonemePool::extract_rule_data</a></div><div class="ttdeci">void extract_rule_data(const std::vector&lt; std::string &gt; &amp;data, const std::vector&lt; size_t &gt; &amp;rule_starts)</div><div class="ttdoc">Extracts to rule data for phonemes from the raw phoneme data. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8cpp_source.html#l00171">PhonemePool.cpp:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aeae0af403555f11fc55a6c5f087c4319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae0af403555f11fc55a6c5f087c4319">&#9670;&nbsp;</a></span>extract_phoneme_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PhonemePool::extract_phoneme_data </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>rule_starts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts all the phoneme data from text into phoneme objects. This function does not handle the parsing of the rules. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The data that was read in from the phoneme config file. </td></tr>
    <tr><td class="paramname">rule_starts</td><td>A vector that contains the idicies at which the rules for the phonemes begin. These indices refer to positions in the strings within the data parameter. This is only really crucial for extract_rule_data. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_phoneme_pool_8cpp_source.html#l00094">94</a> of file <a class="el" href="_phoneme_pool_8cpp_source.html">PhonemePool.cpp</a>.</p>

<p class="reference">References <a class="el" href="_phoneme_pool_8h_source.html#l00044">m_phonemes</a>.</p>

<p class="reference">Referenced by <a class="el" href="_phoneme_pool_8cpp_source.html#l00033">PhonemePool()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordtype">unsigned</span> current_line = 1;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  std::vector&lt;std::string&gt;::const_iterator it = data.begin();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  std::vector&lt;std::string&gt;::const_iterator it_e = data.end();</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">for</span>(; it != it_e; ++it)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// saving line number into a string for errors</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">char</span> line_num_buffer[10];</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    sprintf(line_num_buffer, <span class="stringliteral">&quot;%d&quot;</span>, current_line);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    std::string line_number(line_num_buffer);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// extracting phonemes</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    std::string phoneme;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    std::string example;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    std::string spellings;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// start and end of a substring</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">size_t</span> start = 0;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">size_t</span> end = 0;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">size_t</span> distance = 0;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// getting phoneme string</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    end = it-&gt;find((<span class="keywordtype">char</span>)<span class="charliteral">&#39;:&#39;</span>, start);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// make sure there is an ending colon for the identifier</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span>(end == std::string::npos)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      std::string error(<span class="stringliteral">&quot;Line : &quot;</span>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      error.append(line_number);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      error.append(<span class="stringliteral">&quot; | Ending &#39;:&#39; for phoneme identifier not found&quot;</span>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">throw</span>(error);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    distance = end - start;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    phoneme = it-&gt;substr(start, distance);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// getting example pronunciation</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    start = end + 1;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    end = it-&gt;find((<span class="keywordtype">char</span>)<span class="charliteral">&#39;:&#39;</span>, start);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// make sure there is an ending colon for the pronunciation</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span>(end == std::string::npos)</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      std::string error(<span class="stringliteral">&quot;Line : &quot;</span>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      error.append(line_number);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      error.append(<span class="stringliteral">&quot; | Ending &#39;:&#39; for phoneme pronunciation not found&quot;</span>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <span class="keywordflow">throw</span>(error);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    example = it-&gt;substr(start, end - start);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// getting spellings string</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    start = end + 1;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    end = it-&gt;find((<span class="keywordtype">char</span>)<span class="charliteral">&#39;:&#39;</span>, start);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// make sure there is an ending colon for the spellings</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span>(end == std::string::npos)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      std::string error(<span class="stringliteral">&quot;Line : &quot;</span>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      error.append(line_number);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      error.append(<span class="stringliteral">&quot; | Ending &#39;:&#39; for phoneme spellings not found&quot;</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">throw</span>(error);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    spellings = it-&gt;substr(start, end - start);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    rule_starts.push_back(end + 1);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// creating the new phoneme</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>.push_back(<a class="code" href="class_phoneme.html">Phoneme</a>(phoneme, example, spellings, current_line));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    ++current_line;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="class_phoneme_html"><div class="ttname"><a href="class_phoneme.html">Phoneme</a></div><div class="ttdoc">A Phoneme is a fundamental sound within a language. Combinations of phonemes are responsible for crea...</div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_8h_source.html#l00053">Phoneme.h:53</a></div></div>
<div class="ttc" id="class_phoneme_pool_html_a0627410543979c11336250d610be7d12"><div class="ttname"><a href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">PhonemePool::m_phonemes</a></div><div class="ttdeci">std::vector&lt; Phoneme &gt; m_phonemes</div><div class="ttdoc">The vector of phonemes that the PhonemePool holds. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8h_source.html#l00044">PhonemePool.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a706ef9e47c4f9a6e5a0474ce57307465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a706ef9e47c4f9a6e5a0474ce57307465">&#9670;&nbsp;</a></span>extract_rule_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PhonemePool::extract_rule_data </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>rule_starts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts to rule data for phonemes from the raw phoneme data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The raw phoneme data read from file. </td></tr>
    <tr><td class="paramname">rule_starts</td><td>A vector that contains the idicies at which the rules for the phonemes begin. These indices refer to positions in the strings within the data parameter. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_phoneme_pool_8cpp_source.html#l00171">171</a> of file <a class="el" href="_phoneme_pool_8cpp_source.html">PhonemePool.cpp</a>.</p>

<p class="reference">References <a class="el" href="_phoneme_pool_8cpp_source.html#l00221">find_phoneme()</a>, and <a class="el" href="_phoneme_pool_8h_source.html#l00044">m_phonemes</a>.</p>

<p class="reference">Referenced by <a class="el" href="_phoneme_pool_8cpp_source.html#l00033">PhonemePool()</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordtype">unsigned</span> current_phoneme = 0;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">while</span>(current_phoneme &lt; <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>.size())</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">size_t</span> start = rule_starts[current_phoneme];</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">size_t</span> end = rule_starts[current_phoneme];</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span>(start &gt;= data.size())</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      ++current_phoneme;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    end = data[current_phoneme].find(<span class="charliteral">&#39;,&#39;</span>, start);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">while</span>(end != std::string::npos)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="comment">// clean this up a little</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      std::string new_rule_str = data[current_phoneme].substr(start,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                                              end - start);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="class_phoneme.html">Phoneme</a> * new_rule = <a class="code" href="class_phoneme_pool.html#a33e0d850d01c5477b5a143643b26a74b">find_phoneme</a>(new_rule_str);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span>(new_rule)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>[current_phoneme].add_rule(new_rule);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      start = end + 1;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      end = data[current_phoneme].find(<span class="charliteral">&#39;,&#39;</span>, start);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    std::string new_rule_str =</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      data[current_phoneme].substr(start, data.size() - start);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="class_phoneme.html">Phoneme</a> * new_rule = <a class="code" href="class_phoneme_pool.html#a33e0d850d01c5477b5a143643b26a74b">find_phoneme</a>(new_rule_str);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span>(new_rule)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>[current_phoneme].add_rule(new_rule);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    ++current_phoneme;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="ttc" id="class_phoneme_html"><div class="ttname"><a href="class_phoneme.html">Phoneme</a></div><div class="ttdoc">A Phoneme is a fundamental sound within a language. Combinations of phonemes are responsible for crea...</div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_8h_source.html#l00053">Phoneme.h:53</a></div></div>
<div class="ttc" id="class_phoneme_pool_html_a0627410543979c11336250d610be7d12"><div class="ttname"><a href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">PhonemePool::m_phonemes</a></div><div class="ttdeci">std::vector&lt; Phoneme &gt; m_phonemes</div><div class="ttdoc">The vector of phonemes that the PhonemePool holds. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8h_source.html#l00044">PhonemePool.h:44</a></div></div>
<div class="ttc" id="class_phoneme_pool_html_a33e0d850d01c5477b5a143643b26a74b"><div class="ttname"><a href="class_phoneme_pool.html#a33e0d850d01c5477b5a143643b26a74b">PhonemePool::find_phoneme</a></div><div class="ttdeci">Phoneme * find_phoneme(const std::string &amp;phoneme_string)</div><div class="ttdoc">Will find a phoneme that exists within the pool using a string that contains the phoneme name...</div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8cpp_source.html#l00221">PhonemePool.cpp:221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a33e0d850d01c5477b5a143643b26a74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33e0d850d01c5477b5a143643b26a74b">&#9670;&nbsp;</a></span>find_phoneme()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_phoneme.html">Phoneme</a> * PhonemePool::find_phoneme </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>phoneme_string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will find a phoneme that exists within the pool using a string that contains the phoneme name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phoneme_string</td><td>The string that contains the phoneme name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the <a class="el" href="class_phoneme.html" title="A Phoneme is a fundamental sound within a language. Combinations of phonemes are responsible for crea...">Phoneme</a> is found, a pointer to the <a class="el" href="class_phoneme.html" title="A Phoneme is a fundamental sound within a language. Combinations of phonemes are responsible for crea...">Phoneme</a> object is returned. If not, an exception will be thrown. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_phoneme_pool_8cpp_source.html#l00221">221</a> of file <a class="el" href="_phoneme_pool_8cpp_source.html">PhonemePool.cpp</a>.</p>

<p class="reference">References <a class="el" href="_phoneme_pool_8h_source.html#l00044">m_phonemes</a>.</p>

<p class="reference">Referenced by <a class="el" href="_phoneme_pool_8cpp_source.html#l00171">extract_rule_data()</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  std::vector&lt;Phoneme&gt;::iterator it = <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>.begin();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  std::vector&lt;Phoneme&gt;::iterator it_e = <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>.end();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">for</span>(; it != it_e; ++it)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span>((*it) == phoneme_string)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">return</span> &amp;(*it);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// YOU SHOULD PROBABLY THROUGH AN EXCEPTION OR SOMEthing HERE</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div><div class="ttc" id="class_phoneme_pool_html_a0627410543979c11336250d610be7d12"><div class="ttname"><a href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">PhonemePool::m_phonemes</a></div><div class="ttdeci">std::vector&lt; Phoneme &gt; m_phonemes</div><div class="ttdoc">The vector of phonemes that the PhonemePool holds. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8h_source.html#l00044">PhonemePool.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac197347d5e6f4a14896c441e94345faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac197347d5e6f4a14896c441e94345faf">&#9670;&nbsp;</a></span>get_phoneme()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_phoneme.html">Phoneme</a> * PhonemePool::get_phoneme </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a randome <a class="el" href="class_phoneme.html" title="A Phoneme is a fundamental sound within a language. Combinations of phonemes are responsible for crea...">Phoneme</a> from the pool. </p>
<dl class="section return"><dt>Returns</dt><dd>A random <a class="el" href="class_phoneme.html" title="A Phoneme is a fundamental sound within a language. Combinations of phonemes are responsible for crea...">Phoneme</a> from the pool. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_phoneme_pool_8cpp_source.html#l00060">60</a> of file <a class="el" href="_phoneme_pool_8cpp_source.html">PhonemePool.cpp</a>.</p>

<p class="reference">References <a class="el" href="_phoneme_pool_8h_source.html#l00044">m_phonemes</a>.</p>

<p class="reference">Referenced by <a class="el" href="_phonet_8cpp_source.html#l00106">Phonet::generate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">long</span> <span class="keywordtype">unsigned</span> phoneme_index = rand() % <a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>.size();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">return</span> &amp;(<a class="code" href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">m_phonemes</a>[phoneme_index]);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="ttc" id="class_phoneme_pool_html_a0627410543979c11336250d610be7d12"><div class="ttname"><a href="class_phoneme_pool.html#a0627410543979c11336250d610be7d12">PhonemePool::m_phonemes</a></div><div class="ttdeci">std::vector&lt; Phoneme &gt; m_phonemes</div><div class="ttdoc">The vector of phonemes that the PhonemePool holds. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8h_source.html#l00044">PhonemePool.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afc61de7d5c264f51ab24a4c327a2a0a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc61de7d5c264f51ab24a4c327a2a0a6">&#9670;&nbsp;</a></span>read_success()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PhonemePool::read_success </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the phoneme file was successfully read. </p>
<dl class="section return"><dt>Returns</dt><dd>Look at brief. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_phoneme_pool_8cpp_source.html#l00074">74</a> of file <a class="el" href="_phoneme_pool_8cpp_source.html">PhonemePool.cpp</a>.</p>

<p class="reference">References <a class="el" href="_phoneme_pool_8h_source.html#l00046">m_read_success</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_phoneme_pool.html#aceb9fe1629315941a782862e058c3efa">m_read_success</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="ttc" id="class_phoneme_pool_html_aceb9fe1629315941a782862e058c3efa"><div class="ttname"><a href="class_phoneme_pool.html#aceb9fe1629315941a782862e058c3efa">PhonemePool::m_read_success</a></div><div class="ttdeci">bool m_read_success</div><div class="ttdoc">Identifies whether the phoneme file was successfully read or not. </div><div class="ttdef"><b>Definition:</b> <a href="_phoneme_pool_8h_source.html#l00046">PhonemePool.h:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_phoneme_pool_8h_source.html">PhonemePool.h</a></li>
<li><a class="el" href="_phoneme_pool_8cpp_source.html">PhonemePool.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_phoneme_pool.html">PhonemePool</a></li>
    <li class="footer">Generated on Sun Mar 25 2018 18:39:09 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
